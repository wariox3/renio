<div class="mb-2">
  <app-paginador
    (pageChange)="cambiarPaginacion($event)"
    [totalItems]="totalItems"
    [currentPage]="currentPage()"
  ></app-paginador>
</div>

<div class="table-responsive">
  <table class="table table-row-bordered align-middle gy-4 gs-9">
    <thead
      class="border-bottom border-gray-200 fs-6 text-gray-600 fw-bold bg-light bg-opacity-75"
    >
      <tr class="fw-bold text-gray-800">
        <th>#</th>
        <th>Tipo</th>
        <th>Fecha</th>
        <th>Descripci√≥n</th>
        <th>Fecha desde</th>
        <th>Fecha hasta</th>
        <th>Total</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let movimiento of movientos">
        <td>{{ movimiento.id }}</td>
        <td>{{ movimiento.tipo }}</td>
        <td>{{ movimiento.fecha | date: "yyyy-MM-dd" }}</td>
        <td>{{ movimiento.descripcion }}</td>
        <td>{{ movimiento.fecha_desde_consumo | date: "yyyy-MM-dd" }}</td>
        <td>{{ movimiento.fecha_hasta_consumo | date: "yyyy-MM-dd" }}</td>
        <td class="text-end">$ {{ movimiento.vr_total_operado | number }}</td>
        <td class="text-center">
          @if (movimiento.factura_id) {
            <i
              placement="end"
              ngbTooltip="Descargar documento"
              class="fa-solid fa-download cursorPointer"
              (click)="descargarDocumento(movimiento.id)"
            ></i>
          }
        </td>
      </tr>
    </tbody>
  </table>
</div>